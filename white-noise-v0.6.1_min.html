<!DOCTYPE html><html><head><title>White Noise Generator v0.6.1</title><style>body{background-color:#000;color:#fff;font-family:Arial,sans-serif;text-align:center;margin:0;padding:0}#controls{display:flex;justify-content:center;flex-wrap:wrap}.slider-container{display:flex;flex-direction:column;align-items:center;margin:5px}.slider{writing-mode:bt-lr;-webkit-appearance:slider-vertical;width:20px;height:200px;margin:5px 0}button{font-size:1.2em;padding:10px 20px;margin:10px}@media (max-width:600px){.slider-container{width:100%}.slider{width:100%;height:50px;writing-mode:lr-tb}button{width:90%;margin:5px 5%}}</style></head><body><div id="controls"></div><div><input type="radio" id="whiteNoise" name="noiseType" value="white" checked><label for="whiteNoise">White Noise</label><br><input type="radio" id="pinkNoise" name="noiseType" value="pink"><label for="pinkNoise">Pink Noise</label><br><input type="radio" id="brownNoise" name="noiseType" value="brown"><label for="brownNoise">Brown Noise</label></div><button id="audioButton" onclick="toggleAudio()">Initialize Audio</button><button onclick="resetBands(0)">Reset Bands to 0</button><button onclick="resetBands(0.5)">Center Bands</button><button onclick="adjustBands(-0.1)">Decrease All</button><button onclick="adjustBands(0.1)">Increase All</button><script>var context,noiseProcessor,gainNodes=[],isPlaying=!1,currentNoiseType="white",frequencyBands=[[20,39],[39,79],[79,158],[158,316],[316,632],[632,1261],[1261,2517],[2517,5023],[5023,10023],[10023,20000]],settings=JSON.parse(localStorage.getItem("noiseSettings"))||{white:[],pink:[],brown:[]};function createBandpassFilter(e,t){var n=context.createBiquadFilter();return n.type="bandpass",n.frequency.value=(e+t)/2,n.Q.value=n.frequency.value/(t-e),n}function toggleAudio(){context||(context=new AudioContext),isPlaying?(stopNoise(),document.getElementById("audioButton").innerText="Initialize Audio",isPlaying=!1):(playNoise(),document.getElementById("audioButton").innerText="Stop Audio",isPlaying=!0)}function playNoise(){noiseProcessor&&"closed"!==noiseProcessor.context.state||(noiseProcessor=context.createScriptProcessor(4096,1,1)),noiseProcessor.onaudioprocess=function(e){for(var t=e.outputBuffer.getChannelData(0),n=0;n<t.length;n++)t[n]="white"===currentNoiseType?generateWhiteNoise():"pink"===currentNoiseType?generatePinkNoise(n):"brown"===currentNoiseType?generateBrownNoise(n):void 0},setupGainNodes()}function setupGainNodes(){gainNodes.forEach(function(e){e.disconnect()}),gainNodes=[],frequencyBands.forEach(function(e,t){var n=createBandpassFilter(e[0],e[1]),a=context.createGain();gainNodes[t]=a,noiseProcessor.connect(n),n.connect(a),a.connect(context.destination);var i=settings[currentNoiseType][t];a.gain.value=void 0!==i?parseFloat(i):.5})}function generateWhiteNoise(){return 2*Math.random()-1}function generatePinkNoise(e){}function generateBrownNoise(e){}function stopNoise(){noiseProcessor&&(noiseProcessor.disconnect(),noiseProcessor=null,gainNodes.forEach(function(e){e.disconnect()}),gainNodes=[])}function resetBands(e){for(var t=0;t<frequencyBands.length;t++)setSliderValue(t,e);saveSettings()}function adjustBands(e){for(var t=0;t<frequencyBands.length;t++){var n=gainNodes[t]?gainNodes[t].gain.value:.5;setSliderValue(t,Math.max(0,Math.min(1,n+e)))}saveSettings()}function setSliderValue(e,t){var n=document.getElementById("slider"+e);n&&(n.value=t,updateDisplayValue(e,t),gainNodes[e]&&(gainNodes[e].gain.value=t,e))}function updateDisplayValue(e,t){var n=document.getElementById("valueDisplay"+e);n&&(n.textContent=" ("+t.toFixed(2)+")")}function saveSettings(){var e=settings[currentNoiseType]||[];gainNodes.forEach(function(t,n){e[n]=t.gain.value}),settings[currentNoiseType]=e,localStorage.setItem("noiseSettings",JSON.stringify(settings))}function loadSettings(){var e=settings[currentNoiseType];e&&e.forEach(function(e,t){setSliderValue(t,e),updateDisplayValue(t,e)})}document.querySelectorAll('input[name="noiseType"]').forEach(function(e){e.addEventListener("change",function(){currentNoiseType=this.value,loadSettings(),isPlaying&&playNoise()})}),frequencyBands.forEach(function(e,t){var n=document.createElement("div");n.className="slider-container";var a=document.createElement("input");a.type="range",a.className="slider",a.id="slider"+t,a.min=0,a.max=1,a.step=.01,a.value=void 0!==settings[currentNoiseType][t]?settings[currentNoiseType][t]:.5,a.orientation="vertical";var i=document.createElement("span");i.textContent=e[0]+"-"+e[1]+" Hz";var r=document.createElement("span");r.id="valueDisplay"+t,r.textContent=" ("+a.value+")",a.oninput=function(){var e=parseFloat(this.value);updateDisplayValue(t,e),gainNodes[t]&&(gainNodes[t].gain.value=e),saveSettings()},n.appendChild(i),n.appendChild(r),n.appendChild(a),document.getElementById("controls").appendChild(n)}),window.onload=function(){loadSettings()};</script></body></html>

